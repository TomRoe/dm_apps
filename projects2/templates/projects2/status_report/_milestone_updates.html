{% load static %}
{% load humanize %}
{% load custom_filters %}
{% load i18n %}

<div class="mb-5">

<h4>
    {% trans "Progress on Project Milestones:" %}
</h4>
{% if not object %}
    <em>
        {% trans "Once you save this report, you will be able to update progress on milestones" %}...
    </em><br>
{% else %}
    {% if object.updates.count == 0 %}
        <em>
            {% trans "No milestones have been added to this project" %}...
        </em><br>
    {% else %}

        <table class="table table-hover table-sm">
            <tr>
                <th>
                    {% trans "Milestone" %}
                </th>
                <th>
                    {% trans "Status" %}
                </th>
                <th>
                    {% trans "Notes" %}
                </th>

            </tr>
            <tbody>
            {% for obj in object.updates.all %}
{#              {% url 'projects2:milestone_update_edit' obj.id %}#}
                <tr href="#" pop data-toggle="tooltip" title="Edit" class="add-btn">
                    <td>{{ obj.milestone }}</td>
                    <td style="background-color: {{ obj.status.color }}">{{ obj.get_status_display }}</td>
                    <td>{{ obj.notes|nz:"-----" }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% endif %}
    <br>
</div>

{% endif %}
