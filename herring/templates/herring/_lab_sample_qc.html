{% load divide %}
{% load percentage %}
{% load nz %}
<h4>Data Quality:</h4>
  <table class='table table-sm table-bordered'>
    <thead>
      <th>Test ID</th>
      <th>Field</th>
      <th>Test Description</th>
      <th>Result</th>
      <th style="text-align: center;">Accepted</th>
    </thead>
    <tbody>
      {% for t in object.sample_tests.all  %}
      <tr>
        <td>{{t.test}}</td>
        <td>{{t.get_field_name_display}}</td>
        <td>{{t.test.description}}</td>
        {% if t.test_passed %}
          <td class='good'>
        {% else %}
          <td class='bad'>
        {% endif %}
        {{t.test_passed|yesno:"passed,failed"}}</td>
        {% if t.accepted == 1 %}
          <td class='good' align="center">
        {% elif t.accepted == 0 %}
          <td class='bad' align="center">
        {% else %}
          <td align="center">
        {% endif %}
        {{t.get_accepted_display|nz:""}}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
