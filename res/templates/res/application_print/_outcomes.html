{% load i18n %}
{% load custom_filters %}

{% for context in contexts %}

  <div class="mb-5" id="context{{ context.id }}">
    <h6 class="float-right">
      ({{ application.context_word_count_dict|lookup:context.id }} / {{ context.word_limit }} {% trans "words" %})
    </h6>
    <h6>
      {{ context.tname }}
    </h6>
    {% for o in object.outcomes.all %}
      {% if o.outcome.context.id == context.id %}
        <div class="mb-4" id="outcome{{ o.id }}">
          <hr>
          <em class="font-weight-bold">{{ o.outcome.tname }}</em>
          <div class="mt-2">
          {{ o.text_html|safe }}
          </div>
        </div>
      {% endif %}
    {% endfor %}

    <div class="mb-3">
    </div>


  </div>
{% endfor %}


{##}
{#    <div v-if="application.id" v-for="context in contexts" :key="context.id" class="mb-5">#}
{#      <h6 v-if="application.context_word_count_dict[context.id]<=context.word_limit" class="float-right">${application.context_word_count_dict[context.id]} /#}
{#        ${context.word_limit} {% trans "words" %}</h6>#}
{#      <h6 v-else class="float-right red-font">${application.context_word_count_dict[context.id]} / ${context.word_limit} {% trans "words" %}</h6>#}
{#      <h6 :id="`context${context.id}`">#}
{#        ${context.tname}#}
{#      </h6>#}
{##}
{#      <div v-for="outcome in context.outcomes" :key="outcome.id" class="mb-3">#}
{##}
{#        <outcome#}
{#          v-for="o in outcomes"#}
{#          v-if="o.outcome === outcome.id"#}
{#          :key="o.id"#}
{#          :object="o"#}
{#          :outcome="outcome"#}
{#          :editable="canModify" :dirty="unsavedChanges"#}
{#          @change="updateOutcome" @keypress="unsavedChanges=true"#}
{#          :achievement_labels="achievementLabels"#}
{#          :category_choices="categoryChoices"#}
{#          :publication_type_choices="publicationTypeChoices"#}
{#        ></outcome>#}
{##}
{#      </div>#}
{#    </div>#}
{##}
{#  </div>#}
{#</div>#}