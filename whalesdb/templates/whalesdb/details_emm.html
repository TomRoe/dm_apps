{% extends "whalesdb/whales_details.html" %}
{% load bootstrap4 %}
{% load static %}
{% load verbose_names %}
{% load i18n %}
{% bootstrap_css %}

{% block field_override %}
    <div class="card border border-dark my-1">
        <h5 class="card-header">{% trans title %}</h5>
        <div class="card-body">
        {% for field in fields %}
            <div class="row" >
                <div class="container"><span class="font-weight-bold">{% get_verbose_label object field %} : </span><span>{% get_field_value object field %}</span></div>
            </div>
        {% endfor %}
        </div>
    </div>
    {% if object.eqt.pk == 4 %}
    <div class="card border border-dark my-1" id="hydro">
        <h5 class="card-header">
                <div class="row align-items-center">
                    <span class="col">
                        {% trans "Hydrophone Properties" %}
                    </span>
                    {% if auth %}
                    <span class="px-1">
                        {% if not object.hydrophones %}
                        <a class="btn btn-primary" href="#" onclick="return pop('{% url 'whalesdb:create_eqh' object.pk 'pop' %}','hydro')" title="{% trans 'Add' %}">{% trans 'Add' %}</a>
                        {% else %}
                        <a class="btn btn-primary" href="#" onclick="return pop('{% url 'whalesdb:update_eqh' object.pk 'pop' %}','hydro')" title="{% trans 'Update' %}">{% trans 'Update' %}</a>
                        {% endif %}
                    </span>
                    {% endif %}
                </div>
        </h5>
        <div class="card-body">
        {% if object.hydrophones %}
            {% with object.hydrophones as hydro %}
            <div class="row" >
                <div class="container"><span class="font-weight-bold">{% get_verbose_label hydro 'eqh_range_min' %} : </span><span>{% get_field_value hydro 'eqh_range_min' %}</span></div>
            </div>
            <div class="row" >
                <div class="container"><span class="font-weight-bold">{% get_verbose_label hydro 'eqh_range_max' %} : </span><span>{% get_field_value hydro 'eqh_range_max' %}</span></div>
            </div>
            {% endwith %}
        {% endif %}
        </div>
    </div>
    {% elif object.eqt.pk == 1 %}
    <div class="card border border-dark my-1" id="rec">
        <h5 class="card-header">
                <div class="row align-items-center">
                    <span class="col">
                        {% trans "Recorder Properties" %}
                    </span>
                    {% if auth %}
                    <span class="px-1">
                        {% if not object.recorders %}
                        <a class="btn btn-primary" href="#" onclick="return pop('{% url 'whalesdb:create_eqr' object.pk 'pop' %}','rec')" title="{% trans 'Add' %}">{% trans 'Add' %}</a>
                        {% else %}
                        <a class="btn btn-primary" href="#" onclick="return pop('{% url 'whalesdb:update_eqr' object.pk 'pop' %}','rec')" title="{% trans 'Update' %}">{% trans 'Update' %}</a>
                        {% endif %}
                    </span>
                    {% endif %}
                </div>
        </h5>
        <div class="card-body">
        {% if object.recorders %}
            {% with object.recorders as recorder %}
            <div class="row" >
                <div class="container"><span class="font-weight-bold">{% get_verbose_label recorder 'ert' %} : </span><span>{% get_field_value recorder 'ert' %}</span></div>
            </div>
            <div class="row" >
                <div class="container"><span class="font-weight-bold">{% get_verbose_label recorder 'eqr_internal_hydro' %} : </span><span>{% get_field_value recorder 'eqr_internal_hydro' %}</span></div>
            </div>
            {% endwith %}
        {% endif %}
        </div>
    </div>

    {% endif %}
{% endblock field_override %}
