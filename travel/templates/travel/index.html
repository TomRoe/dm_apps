{% extends "travel/travel_base.html" %}
{% load i18n %}
{% load static %}
{% block content %}
    <style>
        body {
            background-image: url("{% static 'img/ross-parmly-25230-unsplash.jpg' %}");
            background-size: cover;
        }

    </style>
    <div class="container">
        <br>
        <div class="container">
            <div class="jumbotron">
                <h1 class="three-em">
                    {% trans "Travel Management System" %}
                </h1>
                <h2>(Pre-approval to Travel)</h2>
                <hr>
                {% url 'travel:request_list' as event_list_url %}
                {% url 'travel:request_review_list' "awaiting" as event_approval_list_url %}
                {% url 'travel:request_review_list' as event_assigned_list_url %}
                {% url 'travel:request_new' as event_new_url %}
                {% url 'travel:admin_approval_list' 'adm' as adm_approval_list_url %}
                {% url 'travel:admin_approval_list' 'rdg' 1 as gulf_rdg_approval_list_url %}
                {% url 'travel:admin_approval_list' 'rdg' 2 as mar_rdg_approval_list_url %}
                {% url 'travel:admin_trip_verification_list' 0 1 as adm_trip_verification_list_url %}
                {% url 'travel:admin_trip_verification_list' 1 0 as gulf_trip_verification_list_url %}
                {% url 'travel:admin_trip_verification_list' 2 0 as mar_trip_verification_list_url %}
                <br>
                <h3>
                    {% blocktrans %}
                        <a href="{{ event_new_url }}">New</a> request.
                    {% endblocktrans %}
                    <br><br>
                    {% if user.user_trip_requests.count > 0 %}
                        {% with user.id as user_id %}
                            {% blocktrans with event_list_url|add:"?user=" as your_url and user_id as user_id %}
                                View <a href="{{ your_url }}{{ user_id }}">your</a> requests
                            {% endblocktrans %} ({{ user.user_trip_requests.count }}).
                            <br><br>
                        {% endwith %}
                    {% endif %}


                    {% blocktrans %}
                        <a href="{{ event_list_url }}">List</a> all requests.
                    {% endblocktrans %}
                    <br>
                    <br>
                    {% if is_reviewer or is_admin %}
                        <hr>
                        {% if is_reviewer %}
                            {#                            <span class="{% if number_waiting > 0 %}highlight{% endif %}">#}
                            {% blocktrans %}
                                Trip requests awaiting your <a href="{{ event_approval_list_url }}">review</a>
                            {% endblocktrans %}
                            (<span class="{% if number_waiting > 0 %}red-font blink-me{% endif %}">{{ number_waiting }}</span>).
                            {#                            </span>#}
                            <br><br>
                            {% blocktrans %}
                                Trip requests <a href="{{ event_assigned_list_url }}">assigned</a> to you
                            {% endblocktrans %}
                            (<span>{{ user.reviewers.count }}</span>).
                            <br><br>
                        {% endif %}
                        {# ADMIN ONLY STUFF #}
                        {% if is_admin %}
                            <hr>
                            {% trans "Trip requests awaiting approval from" %}
                            <a href="{{ adm_approval_list_url }}">{% trans "ADM" %}</a>
                            (<span class="{% if adm_number_waiting > 0 %}red-font blink-me{% endif %}">{{ adm_number_waiting }}</span>)

                            <br><br>

                            {% trans "Trip requests awaiting approval from RDG:" %}                            &nbsp;
                            <a href="{{ gulf_rdg_approval_list_url }}" class="btn btn btn-outline-dark">
                                {% trans "Gulf" %} (<span
                                    class="{% if gulf_rdg_number_waiting > 0 %}red-font blink-me{% endif %}">{{ gulf_rdg_number_waiting }}</span>)
                            </a>
                            <a href="{{ mar_rdg_approval_list_url }}" class="btn btn btn-outline-dark">
                                {% trans "Maritimes" %} (<span
                                    class="{% if mar_rdg_number_waiting > 0 %}red-font blink-me{% endif %}">{{ mar_rdg_number_waiting }}</span>)
                            </a>


                            <br><br>

                            {% trans "Trips awaiting verification:" %}                            &nbsp;
                            <a href="{{ adm_trip_verification_list_url }}" class="btn btn-outline-dark">
                                {% trans "National" %} (<span
                                    class="{% if adm_unverified_trips > 0 %}red-font blink-me{% endif %}">{{ adm_unverified_trips }}</span>)
                            </a>
                            <a href="{{ gulf_trip_verification_list_url }}" class="btn btn-outline-dark">
                                {% trans "Gulf" %} (<span
                                    class="{% if gulf_unverified_trips > 0 %}red-font blink-me{% endif %}">{{ gulf_unverified_trips }}</span>)
                            </a>
                            <a href="{{ mar_trip_verification_list_url }}" class="btn btn-outline-dark">
                                {% trans "Maritimes" %} (<span
                                    class="{% if mar_unverified_trips > 0 %}red-font blink-me{% endif %}">{{ mar_unverified_trips }}</span>)
                            </a>

                        {% endif %}
                    {% endif %}


                </h3>
                <br><br>
                <div class="">

                </div>

            </div>
        </div>
    </div>




    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <footer>
        <div class="container">
            <a class=""
               style="background-color:black;color:white;text-decoration:none;padding:4px 6px;font-family:-apple-system, BlinkMacSystemFont, &quot;San Francisco&quot;, &quot;Helvetica Neue&quot;, Helvetica, Ubuntu, Roboto, Noto, &quot;Segoe UI&quot;, Arial, sans-serif;font-size:12px;font-weight:bold;line-height:1.2;display:inline-block;border-radius:3px"
               href="https://unsplash.com/@rparmly?utm_medium=referral&amp;utm_campaign=photographer-credit&amp;utm_content=creditBadge"
               target="_blank" rel="noopener noreferrer"
               title="Download free do whatever you want high-resolution photos from Ross Parmly"><span
                    style="display:inline-block;padding:2px 3px"><svg xmlns="http://www.w3.org/2000/svg"
                                                                      style="height:12px;width:auto;position:relative;vertical-align:middle;top:-2px;fill:white"
                                                                      viewBox="0 0 32 32"><title>unsplash-logo</title><path
                    d="M10 9V0h12v9H10zm12 5h10v18H0V14h10v9h12v-9z"></path></svg></span><span style="display:inline-block;padding:2px 3px">Ross Parmly</span></a>
    </footer>
    </div>
{% endblock content %}
