{% extends "travel/travel_base.html" %}
{% load i18n %}

{% block content %}

    <div class="container">
    <br>
    <div class="container">
        <div class="jumbotron">
            <h1 class="three-em">
                {% trans "Welcome to the Travel Plan Management System" %}
            </h1>
        </div>

{#        {% url 'travel:server_list' as server_list_url %}#}
{#        {% url 'travel:user_list' as user_list_url %}#}
{#        {% url 'travel:share_list' as share_list_url %}#}

        <h2>
{#            <ul>#}
{#                <li>#}
{#                    <a href="{{ server_list_url }}">Servers</a>#}
{#                </li>#}
{#                <li>#}
{#                    <a href="{{ user_list_url }}">Users</a>#}
{#                </li>#}
{#                <li>#}
{#                    <a href="{{ share_list_url }}">travel</a>#}
{#                </li>#}
{#                <li>#}
{#                    <a href="{% url 'travel:email_list' %}">Email list</a>#}
{#                </li>#}
{#            </ul>#}
        </h2>
        <br><br>
        <div class="">
            <h3>
                Steps for adding new users:
            </h3>
            <ul>
                <li>
                    Add new user to this database. Also, add them to the travel they will want to access.
                </li>
                <li>
                    Create user on glfscidm002 using shell script:
                    <code>~/create_smb_user.sh my_new_user</code>
                </li>
                <li>
                    Open /etc/samba/smb.conf file: <code>sudo nano /etc/samba/smb.conf</code>. add the user to the appropriate share(s):
                    <code><br>
                        ################# <br>
                        # glfsciherring # <br>
                        ################# <br>
                        [my_new_share]<br>
                        comment = this is just an example <br>
                        path = /mnt/glfsciherring/my_new_share
                        browseable = no <br>
                        writeable = yes <br>
                        guest ok = no <br>
                        valid users = admin, ..., my_new_user <br>
                    </code>
                </li>
                <li>Update the user status to "activated"</li>
            </ul>
        </div>
        <br>
        <div class="">
            <h3>
                Steps for adding new travel:
            </h3>
            <ul>
                <li>
                    Create and setup the share on the target server, e.g. glfsciherring.
                </li>
                <li>
                    Create the universal <code>samba_user</code> account (if doesn't already exist) and make sure this user has read/write
                    access to the share.
                </li>
                <li>
                    On glfscidm002, create the folders to where the target share folders will be mounted, e.g., <code>sudo mkdir
                    /mnt/glfsciherring/my_new_share</code>
                </li>
                <li>
                    open the file system table file: <code> sudo nano /etc/fstab</code>
                </li>
                <li>add in a new line to the fstab for mount the new share:
                    <code>
                        # share folder: my_new_share <br>
                        //169.254.1.1/my_new_share /mnt/glfsciherring/my_new_share cifs
                        credentials=/root/.smbcredentials,rw,nounix,iocharset=utf8,file_mode=0777,dir_mode=0777,vers=1.0 0 0
                    </code>
                </li>
                <li>
                    Save & close the fstab and try mounting all drives: <code>sudo mount -a</code>. If you get now errors, you should be
                    good!
                </li>
                <li>
                    Open /etc/samba/smb.conf file: <code>sudo nano /etc/samba/smb.conf</code>. Add the new share folder:
                    <code><br>
                        ################# <br>
                        # glfsciherring # <br>
                        ################# <br>
                        [my_new_share]<br>
                        comment = this is just an example <br>
                        path = /mnt/glfsciherring/my_new_share
                        browseable = no <br>
                        writeable = yes <br>
                        guest ok = no <br>
                        valid users = admin, etc, etc, etc... <br>
                    </code>
                </li>
                <li>
                    restart the samba server to make sure all is hunkydory: <code>sudo service smbd restart</code>
                </li>
                <li>
                    Create the share in this database.
                </li>

            </ul>
        </div>
    </div>


{% endblock content %}
