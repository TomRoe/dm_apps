{% extends "travel/base.html" %}
{% load static %}
{% load bootstrap4 %}
{% load verbose_names %}
{% load custom_filters %}
{% load custom_tags %}
{% load i18n %}
{% load humanize %}

{% block title_area %}
{% endblock %}


{% block subcontent %}
  <div id="app" v-cloak>
    <div class="mb-3 mt-3" v-if="trip">
      <h2>${trip.display}</h2>
    </div>
    <div v-if="isNCRAdmin || isRegionalAdmin" class="alert alert-primary no-print py-2" role="alert" style="width: 60%">
      <p class="mb-0">
        <span class="h5 mdi mdi-information-outline mr-3"></span> <span class="h6">{% trans "You are viewing this trip as an admin user." %}</span>
      </p>
    </div>
    {# warnings #}
    <div v-if="trip.id">
    </div>


    {# ADMIN BUTTON GROUP #}
    <div class="btns mb-3">

      {# ADMIN NOTES #}
      {% include "travel/common/_trip_admin_notes_button.html" %}
{##}
      {# ADMIN CANCEL BUTTON - only show this option for approved trips #}
{#      {% echo "danger" as cancel_btn_color %}#}
{#      <span v-if="isAdmin && trip.status !== 22 && trip.status !== 10 && trip.status !== 8 && !showAdminNotesForm" data-toggle="tooltip"#}
{#            title="{% trans "This is only an option to you as a system admin" %}">#}
{#        <a class="btn btn-admin" href="{% url 'travel:trip_cancel' object.id %}">#}
{#          {% trans "Cancel Request" %}#}
{#        </a>#}
{#      </span>#}
    </div>

    <div v-if="!showAdminNotesForm" class="btns mb-3">
      {# SUBMIT BUTTON #}
{#      {% if not object.submitted and object.is_late_trip and not object.late_justification %}#}
{#        {% trans "You must provide a late justification in order to submit this trip." as submit_tip_text %}#}
{#      {% endif %}#}
{##}
{#      <span data-toggle="tooltip" title="{{ submit_tip_text }}">#}
{#      <a#}
{#        :class="{btn:true, 'btn-secondary': trip.submitted, 'btn-success': !trip.submitted, 'disabled': trip.is_late_trip && !trip.late_justification}"#}
{#        v-if="(canModify || isOwner) && trip.status !== 11 && trip.status !== 22"#}
{#        href="{% url 'travel:trip_submit' object.id %}">#}
{#        <span v-if="!trip.submitted">{% trans "Submit" %}</span>#}
{#        <span v-else-if="trip.status === 16">{% trans "Re-submit" %}</span>#}
{#        <span v-else>{% trans "Un-submit" %}</span>#}
{#      </a>#}
{#      </span>#}
{##}
      {# EDIT BUTTON #}
{#      <a v-if="canModify"#}
{#         class="btn btn-warning" href="{% url 'travel:trip_edit' object.id %}?{{ trip.META.QUERY_STRING }}">#}
{#        {% trans "Edit" %}#}
{#      </a>#}
      {# DELETE BUTTON #}
{#      <a v-if="canModify && !trip.submitted"#}
{#         class="btn btn-danger" href="{% url 'travel:trip_delete' object.id %}?{{ trip.META.QUERY_STRING }}">#}
{#        {% trans "Delete" %}#}
{#      </a>#}
      {# CLONE BUTTON #}
{#      <a class="btn btn-primary " href="{% url 'travel:trip_clone' object.id %}?{{ trip.META.QUERY_STRING }}">#}
{#        {% trans "Clone Me" %}#}
{#      </a>#}
{##}
{#      {% trans "Travel Request and Approval Form (TRAF)" as print_tip %}#}
{#      <a class="btn btn-outline-dark " href="{% url 'travel:trip_print' object.id %}" data-toggle="tooltip" title="{{ print_tip }}">#}
{#        <span class="mdi mdi-file-pdf h5"></span>#}
{#        {% trans "Print TRAF" %}#}
{#      </a>#}

    </div>
    <div class="mb-3 card admin-notes" v-if="trip.admin_notes_html && !showAdminNotesForm">
      <div class="card-header">{% trans "Administrative Notes" %}</div>
      <div class="card-body">
        <p class="card-text" v-html="trip.admin_notes_html"></p>
      </div>
    </div>

    {% include "travel/common/_trip_detail.html" %}
  </div>
{% endblock %}


{% block body_js %}
  {{ block.super }}
  <script type="application/javascript">
  let isReview = false;
  let tripId  = {{object.id}};
  </script>
  {% include "travel/common/_trip_script.html" %}
{% endblock %}