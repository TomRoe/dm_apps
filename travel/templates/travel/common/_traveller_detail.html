{% load i18n %}
<div class="row">
  <div :class="{'col-6':!canModify || isReview, 'col-4':canModify && !isReview}">

    <p class="h6 mb-3">
      <b>{% trans "Organization:" %}</b><br>
      <span v-if="t.company_name">${t.company_name}</span>
      <span v-else>{% trans "Fisheries and Oceans Canada (DFO)" %}</span>
    </p>
    <p class="h6 mb-3">
      <b>{% trans "Address:" %}</b><br>
      <span v-if="t.address">${t.address}</span>
      <span v-else class="red-font">{% trans "missing address!" %}</span>
    </p>
    <p class="h6 mb-3">
      <b>{% trans "Phone:" %}</b><br>
      <span v-if="t.phone">${t.phone}</span>
      <span v-else class="red-font">{% trans "missing phone!" %}</span>
    </p>
    <p class="h6 mb-3">
      <b>{% trans "E-mail:" %}</b><br>

      <a v-if="t.email" :href="`mailto:${t.email}`">${t.email}</a>
      <span v-else class="red-font">{% trans "missing e-mail!" %}</span>
    </p>

    <p class="h6 mb-3">
      <b>{% trans "Travel Dates:" %}</b><br>
      <span class="" v-html="t.dates"></span>
    </p>
    <p class="h6 mb-3">
      <b>{% trans "Departure Location:" %}</b><br>
      <span class="" v-html="t.departure_location"></span>
    </p>
    <p class="h6 mb-3">
      <b>${travellerLabels.role}:</b><br>
      <span v-if="t.long_role" class="" v-html="t.long_role"></span>
      <span v-else class="red-font">{% trans "missing role!" %}</span>
    </p>
    <p class="h6 mb-3">
      <b>{% trans "Part of Learning Plan:" %}</b><br>
      <span class="">${t.learning_plan|yesNo}</span>
    </p>
    <p class="h6 mb-3">
      <b>{% trans "Non-DFO Funding:" %}</b><br>
      <span class="" v-html="t.non_dfo_costs_html"></span>
    </p>

    <div v-if="trip && t.is_public_servant">
      <p class="h6 mb-3"><b>{% trans "Travel History (ADM approved only):" %}</b></p>
      <ul class="">
        <li v-for="(r,i) in t.adm_travel_history" :key="r.id">
          <a :href="`/travel-plans/requests/${r.id}/view/`" target="_blank" data-toggle="tooltip" title="{% trans "open in new window" %}">
            <span class="mdi mdi-arrow-top-right text-primary table-bordered"></span> ${r.display}
          </a>
          <span :class="r.status_class + ' px-1 py-0'">${r.status_display}</span>
        </li>
        <li v-if="!t.adm_travel_history.length">
          <em>{% trans "This traveller has no ADM approved requests on file." %}</em>
        </li>
      </ul>
    </div>
  </div>
  <div class="col">
    <div v-if="canModify && !isReview && !trip">
      {% include "travel/common/_costs.html" %}
    </div>
    <div v-else>
      <span class="h6 font-weight-bold">{% trans "Cost Breakdown:" %}</span>
      <span class="" v-html="t.cost_breakdown_html"></span>
    </div>
  </div>

</div>