{# Load the tag library #}
{% load bootstrap4 %}

{# Load CSS and JavaScript #}
{% bootstrap_css %}
{% bootstrap_javascript jquery='full' %}

{# A script to refresh the parent window; to be called in when the buttons are pushed #}
<script>
  window.resizeTo(width=800, height=500);
  window.onunload = refreshParent;
  function refreshParent() {
    window.opener.location.reload();
  }
</script>

<div class="container">
  <h1>Add tag to Ticket #: {{ticket}}</h1>
  {# <button type="submit" class="btn btn-success" onclick="refreshParent()">Submit</button> #}

  <form action="." method="get">
    <p>
      {% for field in filter.form  %}
        <em>{{field.label}}:</em> &nbsp;{{field}}&nbsp;&nbsp;
      {% endfor %}
    </p>
    <p>
      <input type="submit" value="Search" class="btn" />
      <a class="btn btn-success" href="{% url 'tickets:tag_create' ticket %}">Add New Tag</a>
      <a class="btn btn-info" href=".">Clear</a>
      <a class="btn btn-secondary" onclick="refreshParent(); window.close()" href="#">Close</a>
    </p>
   </form>
   <div class="container">

     {% for tag in object_list.all %}
     <p>
       <a href="{% url 'tickets:add_tag' ticket tag.id %}"><i class="material-icons">add</i></a>
       {{tag.tag}}
     </p>
     {% endfor %}
   </div>

</div>
