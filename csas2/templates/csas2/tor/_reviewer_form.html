{% load i18n %}

<div v-if="currentUser.reviewer && currentUser.reviewer.id" class="alert alert-success" role="alert">
  <div class="lead alert-heading mb-3">
    ${currentUser.first_name}, {% trans "please submit your review below:" %}
  </div>
  <hr>
  <form @submit.prevent="submitCurrentReviewerForm" class="">
    <div class="form-group">
      <label for="">${reviewerLabels.decision}</label>
      <select
        required
        v-model="currentUser.reviewer.decision"
        class="form-control form-control-sm"
      >
        <option :value="null">------</option>
        <option v-for="(obj, index) in decisionChoices" :value="obj.value">${obj.text}</option>
      </select>
    </div>

    <div class="form-group">
      <label v-if="currentUser.reviewer.decision === 2">{% trans "Please descibe changes" %}</label>
      <label v-else>{% trans "Optional comments" %}</label>
      <textarea
        :required="currentUser.reviewer.decision === 2"
        v-model="currentUser.reviewer.comments"
        class="form-control form-control-sm"
        rows="5"
      ></textarea>
    </div>

    <div class="">
      <input class="btn btn-primary" type="submit" value="{% trans "Submit Review" %}">
    </div>

  </form>
</div>