{% extends "bio_diversity/bio_details.html" %}
{% load bootstrap4 %}
{% load static %}
{% load verbose_names %}
{% load i18n %}
{% bootstrap_css %}

{% block detail_tables %}
    <div class="card border border-dark my-1" name="prot-details">
        <h5 class="card-header">{% trans "Program Protocols" %}
            <span class="px-1">
                <a class="btn btn-primary" name="add-new-prot-btn" href="#" onclick="return pop('{% url 'bio_diversity:create_prot' object.pk 'pop' %}','all')" title="{% trans 'Add' %}">{% trans 'Add New Protocol' %}</a>
            </span>
        </h5>
        {% if object.protocols.count > 0 %}
            <table class="table table-sm sortable table-hover">
                <thead>
                    {% for field in prot_field_list %}
                        <th>{% get_verbose_label prot_object field %}</th>
                    {% endfor %}
                </thead>
                <tbody>
                    {% for obj in object.protocols.all %}
                        <tr href="{% url 'bio_diversity:details_prot' 'prog' object.id obj.id %}">
                        {% for field in prot_field_list %}
                            <td>
                                {% get_field_value obj field %}
                            </td>
                        {% endfor %}
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% endif %}
    </div>

{% endblock  %}
