# Generated by Django 2.1.4 on 2019-03-14 19:18

from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone
import grais.models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='FollowUp',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateTimeField(default=django.utils.timezone.now)),
                ('note', models.TextField()),
                ('author', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='IncidentalReport',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('report_date', models.DateTimeField(default=django.utils.timezone.now)),
                ('language_of_report', models.IntegerField(choices=[(1, 'English'), (2, 'French')])),
                ('requestor_name', models.CharField(max_length=150)),
                ('requestor_type', models.IntegerField(blank=True, choices=[(1, 'public'), (2, 'academia'), (3, 'private sector'), (4, 'provincial government'), (5, 'federal government')], null=True)),
                ('report_source', models.IntegerField(choices=[(1, 'Gulf AIS Hotline'), (2, 'Gulf Invaders E-mail'), (3, 'Personal E-mail')])),
                ('species_confirmation', models.NullBooleanField()),
                ('gulf_ais_confirmed', models.NullBooleanField()),
                ('seeking_general_info_ais', models.NullBooleanField()),
                ('seeking_general_info_non_ais', models.NullBooleanField()),
                ('management_related', models.NullBooleanField()),
                ('dfo_it_related', models.NullBooleanField()),
                ('incorrect_region', models.NullBooleanField()),
                ('call_answered_by', models.CharField(blank=True, max_length=150, null=True)),
                ('call_returned_by', models.CharField(blank=True, max_length=150, null=True)),
                ('location_description', models.CharField(blank=True, max_length=500, null=True)),
                ('latitude_n', models.FloatField(blank=True, null=True)),
                ('longitude_w', models.FloatField(blank=True, null=True)),
                ('specimens_retained', models.NullBooleanField()),
                ('sighting_description', models.TextField(blank=True, null=True)),
                ('identified_by', models.CharField(blank=True, max_length=150, null=True)),
                ('date_of_occurrence', models.DateTimeField()),
                ('observation_type', models.IntegerField(choices=[(1, 'Single observation'), (2, 'Ongoing presence')])),
                ('phone1', models.CharField(blank=True, max_length=50, null=True, verbose_name='phone 1')),
                ('phone2', models.CharField(blank=True, max_length=50, null=True, verbose_name='phone 2')),
                ('email', models.EmailField(blank=True, max_length=254, null=True)),
                ('notes', models.TextField(blank=True, null=True)),
                ('season', models.IntegerField()),
                ('date_last_modified', models.DateTimeField(blank=True, null=True)),
                ('last_modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-report_date'],
            },
        ),
        migrations.CreateModel(
            name='Line',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('collector', models.CharField(blank=True, max_length=56, null=True)),
                ('latitude_n', models.FloatField(blank=True, null=True)),
                ('longitude_w', models.FloatField(blank=True, null=True)),
                ('notes', models.TextField(blank=True, null=True)),
                ('last_modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='LineSpecies',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('observation_date', models.DateTimeField()),
                ('notes', models.TextField(blank=True, null=True)),
                ('line', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='line_spp', to='grais.Line')),
            ],
        ),
        migrations.CreateModel(
            name='Probe',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('probe_name', models.CharField(max_length=255)),
                ('last_modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='ProbeMeasurement',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('time_date', models.DateTimeField(blank=True, null=True)),
                ('timezone', models.CharField(blank=True, choices=[('AST', 'AST'), ('ADT', 'ADT'), ('UTC', 'UTC')], max_length=5, null=True)),
                ('tide_descriptor', models.CharField(blank=True, choices=[('eb', 'Ebb'), ('fl', 'Flood'), ('hi', 'High'), ('lo', 'Low')], max_length=2, null=True)),
                ('probe_depth', models.FloatField(blank=True, null=True)),
                ('temp_c', models.FloatField(blank=True, null=True)),
                ('sal_ppt', models.FloatField(blank=True, null=True)),
                ('o2_percent', models.FloatField(blank=True, null=True)),
                ('o2_mgl', models.FloatField(blank=True, null=True)),
                ('sp_cond_ms', models.FloatField(blank=True, null=True)),
                ('spc_ms', models.FloatField(blank=True, null=True)),
                ('ph', models.FloatField(blank=True, null=True)),
                ('turbidiy', models.FloatField(blank=True, null=True)),
                ('weather_notes', models.CharField(blank=True, max_length=1000, null=True)),
                ('probe', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, to='grais.Probe')),
            ],
        ),
        migrations.CreateModel(
            name='Province',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('province', models.CharField(blank=True, max_length=255, null=True)),
                ('abbrev', models.CharField(blank=True, max_length=10, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Sample',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date_deployed', models.DateTimeField()),
                ('date_retrieved', models.DateTimeField(blank=True, null=True)),
                ('days_deployed', models.IntegerField(blank=True, null=True)),
                ('old_id', models.IntegerField(blank=True, null=True)),
                ('season', models.IntegerField(blank=True, null=True)),
                ('last_modified', models.DateTimeField(blank=True, null=True)),
                ('last_modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-season', 'station', '-date_deployed'],
            },
        ),
        migrations.CreateModel(
            name='SampleNote',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateTimeField(default=django.utils.timezone.now)),
                ('note', models.TextField()),
                ('author', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to=settings.AUTH_USER_MODEL)),
                ('sample', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notes', to='grais.Sample')),
            ],
            options={
                'ordering': ['-date'],
            },
        ),
        migrations.CreateModel(
            name='Sampler',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('first_name', models.CharField(blank=True, max_length=255, null=True)),
                ('last_name', models.CharField(blank=True, max_length=255, null=True)),
                ('email', models.EmailField(blank=True, max_length=254, null=True)),
                ('phone', models.CharField(blank=True, max_length=25, null=True)),
                ('organization', models.CharField(blank=True, max_length=1000, null=True)),
            ],
            options={
                'ordering': ['first_name', 'last_name'],
            },
        ),
        migrations.CreateModel(
            name='SampleSpecies',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('observation_date', models.DateTimeField()),
                ('notes', models.TextField(blank=True, null=True)),
                ('sample', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sample_spp', to='grais.Sample')),
            ],
        ),
        migrations.CreateModel(
            name='Species',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('common_name', models.CharField(blank=True, max_length=255, null=True)),
                ('scientific_name', models.CharField(blank=True, max_length=255, null=True)),
                ('abbrev', models.CharField(blank=True, max_length=255, null=True, verbose_name='abbreviation')),
                ('epibiont_type', models.CharField(blank=True, choices=[(None, '-----'), ('ses', 'sessile'), ('mob', 'mobile')], max_length=10, null=True)),
                ('tsn', models.IntegerField(blank=True, null=True, verbose_name='Taxonomic Serial Number')),
                ('aphia_id', models.IntegerField(blank=True, null=True, verbose_name='AphiaID')),
                ('color_morph', models.BooleanField(verbose_name='Has color morph')),
                ('invasive', models.BooleanField(verbose_name='is invasive?')),
                ('last_modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['common_name'],
            },
        ),
        migrations.CreateModel(
            name='Station',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('station_name', models.CharField(blank=True, max_length=255, null=True)),
                ('latitude_n', models.FloatField(blank=True, null=True)),
                ('longitude_w', models.FloatField(blank=True, null=True)),
                ('depth', models.FloatField(blank=True, null=True)),
                ('site_desc', models.TextField(blank=True, null=True)),
                ('last_modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to=settings.AUTH_USER_MODEL)),
                ('province', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='stations', to='grais.Province')),
            ],
            options={
                'ordering': ['station_name'],
            },
        ),
        migrations.CreateModel(
            name='Surface',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('surface_type', models.CharField(choices=[('pe', 'Petri dish'), ('pl', 'Plate')], max_length=2)),
                ('label', models.CharField(max_length=255)),
                ('image', models.ImageField(blank=True, null=True, upload_to=grais.models.img_file_name)),
                ('notes', models.TextField(blank=True, null=True)),
                ('last_modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to=settings.AUTH_USER_MODEL)),
                ('line', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='surfaces', to='grais.Line')),
            ],
            options={
                'ordering': ['line', 'surface_type', 'label'],
            },
        ),
        migrations.CreateModel(
            name='SurfaceSpecies',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('percent_coverage', models.FloatField(validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(1)])),
                ('notes', models.TextField(blank=True, null=True)),
                ('last_modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to=settings.AUTH_USER_MODEL)),
                ('species', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='surface_spp', to='grais.Species')),
                ('surface', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='surface_spp', to='grais.Surface')),
            ],
        ),
        migrations.AddField(
            model_name='surface',
            name='species',
            field=models.ManyToManyField(through='grais.SurfaceSpecies', to='grais.Species'),
        ),
        migrations.AddField(
            model_name='samplespecies',
            name='species',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sample_spp', to='grais.Species'),
        ),
        migrations.AddField(
            model_name='sample',
            name='samplers',
            field=models.ManyToManyField(to='grais.Sampler'),
        ),
        migrations.AddField(
            model_name='sample',
            name='species',
            field=models.ManyToManyField(through='grais.SampleSpecies', to='grais.Species'),
        ),
        migrations.AddField(
            model_name='sample',
            name='station',
            field=models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='samples', to='grais.Station'),
        ),
        migrations.AddField(
            model_name='probemeasurement',
            name='sample',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='probe_data', to='grais.Sample'),
        ),
        migrations.AddField(
            model_name='linespecies',
            name='species',
            field=models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='line_spp', to='grais.Species'),
        ),
        migrations.AddField(
            model_name='line',
            name='sample',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lines', to='grais.Sample'),
        ),
        migrations.AddField(
            model_name='line',
            name='species',
            field=models.ManyToManyField(through='grais.LineSpecies', to='grais.Species'),
        ),
        migrations.AddField(
            model_name='incidentalreport',
            name='species',
            field=models.ManyToManyField(to='grais.Species', verbose_name='Concerning which species'),
        ),
        migrations.AddField(
            model_name='followup',
            name='incidental_report',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='followups', to='grais.IncidentalReport'),
        ),
        migrations.AlterUniqueTogether(
            name='surfacespecies',
            unique_together={('species', 'surface')},
        ),
        migrations.AlterUniqueTogether(
            name='samplespecies',
            unique_together={('species', 'sample')},
        ),
        migrations.AlterUniqueTogether(
            name='linespecies',
            unique_together={('species', 'line')},
        ),
    ]
